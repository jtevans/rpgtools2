<?php
/* John's D&D Utilities
 * Copyright (C) 2001-2025, John Evans
 * Released under GPLv3.
 */

require("utils.php");

$xp[1][1] = 300;
$xp[1][2] = 600;
$xp[1][3] = 900;
$xp[1][4] = 1350;
$xp[1][5] = 1800;
$xp[1][6] = 2700;
$xp[1][7] = 3600;
$xp[1][8] = 5400;
$xp[1][9] = 7200;
$xp[1][10] = 10800;
$xp[1][11] = 0;
$xp[1][12] = 0;
$xp[1][13] = 0;
$xp[1][14] = 0;
$xp[1][15] = 0;
$xp[1][16] = 0;
$xp[1][17] = 0;
$xp[1][18] = 0;
$xp[1][19] = 0;
$xp[1][20] = 0;

$xp[2][1] = 300;
$xp[2][2] = 600;
$xp[2][3] = 900;
$xp[2][4] = 1350;
$xp[2][5] = 1800;
$xp[2][6] = 2700;
$xp[2][7] = 3600;
$xp[2][8] = 5400;
$xp[2][9] = 7200;
$xp[2][10] = 10800;
$xp[2][11] = 0;
$xp[2][12] = 0;
$xp[2][13] = 0;
$xp[2][14] = 0;
$xp[2][15] = 0;
$xp[2][16] = 0;
$xp[2][17] = 0;
$xp[2][18] = 0;
$xp[2][19] = 0;
$xp[2][20] = 0;

$xp[3][1] = 300;
$xp[3][2] = 600;
$xp[3][3] = 900;
$xp[3][4] = 1350;
$xp[3][5] = 1800;
$xp[3][6] = 2700;
$xp[3][7] = 3600;
$xp[3][8] = 5400;
$xp[3][9] = 7200;
$xp[3][10] = 10800;
$xp[3][11] = 0;
$xp[3][12] = 0;
$xp[3][13] = 0;
$xp[3][14] = 0;
$xp[3][15] = 0;
$xp[3][16] = 0;
$xp[3][17] = 0;
$xp[3][18] = 0;
$xp[3][19] = 0;
$xp[3][20] = 0;

$xp[4][1] = 300;
$xp[4][2] = 600;
$xp[4][3] = 800;
$xp[4][4] = 1200;
$xp[4][5] = 1600;
$xp[4][6] = 2400;
$xp[4][7] = 3200;
$xp[4][8] = 4800;
$xp[4][9] = 6400;
$xp[4][10] = 9600;
$xp[4][11] = 12800;
$xp[4][12] = 0;
$xp[4][13] = 0;
$xp[4][14] = 0;
$xp[4][15] = 0;
$xp[4][16] = 0;
$xp[4][17] = 0;
$xp[4][18] = 0;
$xp[4][19] = 0;
$xp[4][20] = 0;

$xp[5][1] = 300;
$xp[5][2] = 500;
$xp[5][3] = 750;
$xp[5][4] = 1000;
$xp[5][5] = 1500;
$xp[5][6] = 2250;
$xp[5][7] = 3000;
$xp[5][8] = 4500;
$xp[5][9] = 6000;
$xp[5][10] = 9000;
$xp[5][11] = 12000;
$xp[5][12] = 18000;
$xp[5][13] = 0;
$xp[5][14] = 0;
$xp[5][15] = 0;
$xp[5][16] = 0;
$xp[5][17] = 0;
$xp[5][18] = 0;
$xp[5][19] = 0;
$xp[5][20] = 0;

$xp[6][1] = 300;
$xp[6][2] = 450;
$xp[6][3] = 600;
$xp[6][4] = 900;
$xp[6][5] = 1200;
$xp[6][6] = 1800;
$xp[6][7] = 2700;
$xp[6][8] = 3600;
$xp[6][9] = 5400;
$xp[6][10] = 7200;
$xp[6][11] = 10800;
$xp[6][12] = 14400;
$xp[6][13] = 21600;
$xp[6][14] = 0;
$xp[6][15] = 0;
$xp[6][16] = 0;
$xp[6][17] = 0;
$xp[6][18] = 0;
$xp[6][19] = 0;
$xp[6][20] = 0;

$xp[7][1] = 263;
$xp[7][2] = 350;
$xp[7][3] = 525;
$xp[7][4] = 700;
$xp[7][5] = 1050;
$xp[7][6] = 1400;
$xp[7][7] = 2100;
$xp[7][8] = 3150;
$xp[7][9] = 4200;
$xp[7][10] = 6300;
$xp[7][11] = 8400;
$xp[7][12] = 12600;
$xp[7][13] = 16800;
$xp[7][14] = 25200;
$xp[7][15] = 0;
$xp[7][16] = 0;
$xp[7][17] = 0;
$xp[7][18] = 0;
$xp[7][19] = 0;
$xp[7][20] = 0;

$xp[8][1] = 200;
$xp[8][2] = 300;
$xp[8][3] = 400;
$xp[8][4] = 600;
$xp[8][5] = 800;
$xp[8][6] = 1200;
$xp[8][7] = 1600;
$xp[8][8] = 2400;
$xp[8][9] = 3600;
$xp[8][10] = 4800;
$xp[8][11] = 7200;
$xp[8][12] = 9600;
$xp[8][13] = 14400;
$xp[8][14] = 19200;
$xp[8][15] = 28800;
$xp[8][16] = 0;
$xp[8][17] = 0;
$xp[8][18] = 0;
$xp[8][19] = 0;
$xp[8][20] = 0;

$xp[9][1] = 0;
$xp[9][2] = 225;
$xp[9][3] = 338;
$xp[9][4] = 450;
$xp[9][5] = 675;
$xp[9][6] = 900;
$xp[9][7] = 1350;
$xp[9][8] = 1800;
$xp[9][9] = 2700;
$xp[9][10] = 4050;
$xp[9][11] = 5400;
$xp[9][12] = 8100;
$xp[9][13] = 10800;
$xp[9][14] = 16200;
$xp[9][15] = 21600;
$xp[9][16] = 32400;
$xp[9][17] = 0;
$xp[9][18] = 0;
$xp[9][19] = 0;
$xp[9][20] = 0;

$xp[10][1] = 0;
$xp[10][2] = 0;
$xp[10][3] = 250;
$xp[10][4] = 375;
$xp[10][5] = 500;
$xp[10][6] = 750;
$xp[10][7] = 1000;
$xp[10][8] = 1500;
$xp[10][9] = 2000;
$xp[10][10] = 3000;
$xp[10][11] = 4500;
$xp[10][12] = 6000;
$xp[10][13] = 9000;
$xp[10][14] = 12000;
$xp[10][15] = 18000;
$xp[10][16] = 2400;
$xp[10][17] = 36000;
$xp[10][18] = 0;
$xp[10][19] = 0;
$xp[10][20] = 0;

$xp[11][1] = 0;
$xp[11][2] = 0;
$xp[11][3] = 0;
$xp[11][4] = 275;
$xp[11][5] = 413;
$xp[11][6] = 550;
$xp[11][7] = 825;
$xp[11][8] = 1100;
$xp[11][9] = 1650;
$xp[11][10] = 2200;
$xp[11][11] = 3300;
$xp[11][12] = 4950;
$xp[11][13] = 6600;
$xp[11][14] = 9900;
$xp[11][15] = 13200;
$xp[11][16] = 19800;
$xp[11][17] = 26400;
$xp[11][18] = 39600;
$xp[11][19] = 0;
$xp[11][20] = 0;

$xp[12][1] = 0;
$xp[12][2] = 0;
$xp[12][3] = 0;
$xp[12][4] = 0;
$xp[12][5] = 300;
$xp[12][6] = 450;
$xp[12][7] = 600;
$xp[12][8] = 900;
$xp[12][9] = 1200;
$xp[12][10] = 1800;
$xp[12][11] = 2400;
$xp[12][12] = 3600;
$xp[12][13] = 5400;
$xp[12][14] = 7200;
$xp[12][15] = 10800;
$xp[12][16] = 14400;
$xp[12][17] = 21600;
$xp[12][18] = 28800;
$xp[12][19] = 23200;
$xp[12][20] = 0;

$xp[13][1] = 0;
$xp[13][2] = 0;
$xp[13][3] = 0;
$xp[13][4] = 0;
$xp[13][5] = 0;
$xp[13][6] = 325;
$xp[13][7] = 488;
$xp[13][8] = 650;
$xp[13][9] = 975;
$xp[13][10] = 1300;
$xp[13][11] = 1950;
$xp[13][12] = 2600;
$xp[13][13] = 3900;
$xp[13][14] = 5850;
$xp[13][15] = 7800;
$xp[13][16] = 11700;
$xp[13][17] = 15600;
$xp[13][18] = 23400;
$xp[13][19] = 31200;
$xp[13][20] = 46800;

$xp[14][1] = 0;
$xp[14][2] = 0;
$xp[14][3] = 0;
$xp[14][4] = 0;
$xp[14][5] = 0;
$xp[14][6] = 0;
$xp[14][7] = 350;
$xp[14][8] = 525;
$xp[14][9] = 700;
$xp[14][10] = 1050;
$xp[14][11] = 1400;
$xp[14][12] = 2100;
$xp[14][13] = 2800;
$xp[14][14] = 4200;
$xp[14][15] = 6300;
$xp[14][16] = 8400;
$xp[14][17] = 12600;
$xp[14][18] = 16800;
$xp[14][19] = 25200;
$xp[14][20] = 33600;

$xp[15][1] = 0;
$xp[15][2] = 0;
$xp[15][3] = 0;
$xp[15][4] = 0;
$xp[15][5] = 0;
$xp[15][6] = 0;
$xp[15][7] = 0;
$xp[15][8] = 375;
$xp[15][9] = 563;
$xp[15][10] = 750;
$xp[15][11] = 1125;
$xp[15][12] = 1500;
$xp[15][13] = 2250;
$xp[15][14] = 3000;
$xp[15][15] = 4500;
$xp[15][16] = 6750;
$xp[15][17] = 9000;
$xp[15][18] = 13500;
$xp[15][19] = 18000;
$xp[15][20] = 27000;

$xp[16][1] = 0;
$xp[16][2] = 0;
$xp[16][3] = 0;
$xp[16][4] = 0;
$xp[16][5] = 0;
$xp[16][6] = 0;
$xp[16][7] = 0;
$xp[16][8] = 0;
$xp[16][9] = 400;
$xp[16][10] = 600;
$xp[16][11] = 800;
$xp[16][12] = 1200;
$xp[16][13] = 1600;
$xp[16][14] = 2400;
$xp[16][15] = 3200;
$xp[16][16] = 4800;
$xp[16][17] = 7200;
$xp[16][18] = 9600;
$xp[16][19] = 14400;
$xp[16][20] = 19200;

$xp[17][1] = 0;
$xp[17][2] = 0;
$xp[17][3] = 0;
$xp[17][4] = 0;
$xp[17][5] = 0;
$xp[17][6] = 0;
$xp[17][7] = 0;
$xp[17][8] = 0;
$xp[17][9] = 0;
$xp[17][10] = 425;
$xp[17][11] = 638;
$xp[17][12] = 850;
$xp[17][13] = 1275;
$xp[17][14] = 1700;
$xp[17][15] = 2550;
$xp[17][16] = 3400;
$xp[17][17] = 5100;
$xp[17][18] = 7650;
$xp[17][19] = 10200;
$xp[17][20] = 15300;

$xp[18][1] = 0;
$xp[18][2] = 0;
$xp[18][3] = 0;
$xp[18][4] = 0;
$xp[18][5] = 0;
$xp[18][6] = 0;
$xp[18][7] = 0;
$xp[18][8] = 0;
$xp[18][9] = 0;
$xp[18][10] = 0;
$xp[18][11] = 450;
$xp[18][12] = 675;
$xp[18][13] = 900;
$xp[18][14] = 1350;
$xp[18][15] = 1800;
$xp[18][16] = 2700;
$xp[18][17] = 3600;
$xp[18][18] = 5400;
$xp[18][19] = 8100;
$xp[18][20] = 10800;

$xp[19][1] = 0;
$xp[19][2] = 0;
$xp[19][3] = 0;
$xp[19][4] = 0;
$xp[19][5] = 0;
$xp[19][6] = 0;
$xp[19][7] = 0;
$xp[19][8] = 0;
$xp[19][9] = 0;
$xp[19][10] = 0;
$xp[19][11] = 0;
$xp[19][12] = 475;
$xp[19][13] = 713;
$xp[19][14] = 950;
$xp[19][15] = 1425;
$xp[19][16] = 1900;
$xp[19][17] = 2850;
$xp[19][18] = 3800;
$xp[19][19] = 5700;
$xp[19][20] = 8550;

$xp[20][1] = 0;
$xp[20][2] = 0;
$xp[20][3] = 0;
$xp[20][4] = 0;
$xp[20][5] = 0;
$xp[20][6] = 0;
$xp[20][7] = 0;
$xp[20][8] = 0;
$xp[20][9] = 0;
$xp[20][10] = 0;
$xp[20][11] = 0;
$xp[20][12] = 0;
$xp[20][13] = 500;
$xp[20][14] = 750;
$xp[20][15] = 1000;
$xp[20][16] = 1500;
$xp[20][17] = 2000;
$xp[20][18] = 3000;
$xp[20][19] = 4000;
$xp[20][20] = 6000;

$pl = max(1, min(20, intval(post_var("pl"))));
$ps = intval(post_var("ps"));
$cr0 = max(1, min(20, intval(post_var("cr0"))));
$cr1 = max(1, min(20, intval(post_var("cr1"))));
$cr2 = max(1, min(20, intval(post_var("cr2"))));
$cr3 = max(1, min(20, intval(post_var("cr3"))));
$cr4 = max(1, min(20, intval(post_var("cr4"))));
$cr5 = max(1, min(20, intval(post_var("cr5"))));
$cr6 = max(1, min(20, intval(post_var("cr6"))));
$cr7 = max(1, min(20, intval(post_var("cr7"))));
$cr8 = max(1, min(20, intval(post_var("cr8"))));
$cr9 = max(1, min(20, intval(post_var("cr9"))));
$q0 = intval(post_var("q0"));
$q1 = intval(post_var("q1"));
$q2 = intval(post_var("q2"));
$q3 = intval(post_var("q3"));
$q4 = intval(post_var("q4"));
$q5 = intval(post_var("q5"));
$q6 = intval(post_var("q6"));
$q7 = intval(post_var("q7"));
$q8 = intval(post_var("q8"));
$q9 = intval(post_var("q9"));

if ($ps < 1) $ps = 1;

$total = 0;
$total += $cr0 > 0 ? $xp[$pl][$cr0] * $q0 : 0;
$total += $cr1 > 0 ? $xp[$pl][$cr1] * $q1 : 0;
$total += $cr2 > 0 ? $xp[$pl][$cr2] * $q2 : 0;
$total += $cr3 > 0 ? $xp[$pl][$cr3] * $q3 : 0;
$total += $cr4 > 0 ? $xp[$pl][$cr4] * $q4 : 0;
$total += $cr5 > 0 ? $xp[$pl][$cr5] * $q5 : 0;
$total += $cr6 > 0 ? $xp[$pl][$cr6] * $q6 : 0;
$total += $cr7 > 0 ? $xp[$pl][$cr7] * $q7 : 0;
$total += $cr8 > 0 ? $xp[$pl][$cr8] * $q8 : 0;
$total += $cr9 > 0 ? $xp[$pl][$cr9] * $q9 : 0;

$share = round($total / $ps);

start_html("XP Generator");
?>

<p>
The total XP is <b><?php echo $total?></b> and each share is <b><?php echo $share?></b>.
</p>

<?php
end_html(); 
